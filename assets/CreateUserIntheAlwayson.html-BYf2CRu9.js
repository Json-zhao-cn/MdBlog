import{_ as s,c as a,a as n,o as r}from"./app-DS8qI0Gg.js";const t={};function i(o,e){return r(),a("div",null,[...e[0]||(e[0]=[n(`<h2 id="create-same-user-and-password-in-the-sql-server-alwayson-availability-group-ag" tabindex="-1"><a class="header-anchor" href="#create-same-user-and-password-in-the-sql-server-alwayson-availability-group-ag"><span><strong>Create same user and password in the <code>SQL server alwayson</code> <code>availability group(AG)</code></strong></span></a></h2><p>In the SQL Server awlayson availability group(AG), most of time, we also connect the <code>AG listener</code>.So, we will create the <code>read-ony</code> and <code>write</code> user in the AG.That&#39;s mean we will create the same user and password in the availability group.</p><h4 id="_1-create-user-in-the-primary-server" tabindex="-1"><a class="header-anchor" href="#_1-create-user-in-the-primary-server"><span>1. <strong>Create User in the primary server</strong></span></a></h4><p>Your password should meet the password complexity requirements of the database or company strategy.</p><div class="language-SQL line-numbers-mode" data-highlighter="prismjs" data-ext="SQL" data-title="SQL"><pre><code><span class="line">CREATE LOGIN YourUser WITH PASSWORD = &#39;YourPS&#39;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="_2-get-user-sid" tabindex="-1"><a class="header-anchor" href="#_2-get-user-sid"><span>2. <strong>get user sid</strong></span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">SELECT</span> name<span class="token punctuation">,</span> sid </span>
<span class="line"><span class="token keyword">FROM</span> sys<span class="token punctuation">.</span>sql_logins </span>
<span class="line"><span class="token keyword">WHERE</span> name <span class="token operator">=</span> <span class="token string">&#39;YourUser&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-create-same-user-in-the-secondary-db" tabindex="-1"><a class="header-anchor" href="#_3-create-same-user-in-the-secondary-db"><span>3. Create same User in the secondary DB</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">CREATE</span> LOGIN YourUser <span class="token keyword">WITH</span> PASSWORD <span class="token operator">=</span> <span class="token string">&#39;YourPS&#39;</span><span class="token punctuation">,</span> SID <span class="token operator">=</span> primarySid<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="_4-create-user-in-the-secondary-db-without-password-complexity-verification" tabindex="-1"><a class="header-anchor" href="#_4-create-user-in-the-secondary-db-without-password-complexity-verification"><span>4. Create User in the Secondary DB without password complexity verification</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">CREATE</span> LOGIN YourUser <span class="token keyword">WITH</span> PASSWORD <span class="token operator">=</span> <span class="token string">&#39;YourPS&#39;</span><span class="token punctuation">,</span> SID <span class="token operator">=</span> primarySid <span class="token punctuation">,</span>CHECK_POLICY <span class="token operator">=</span> <span class="token keyword">OFF</span><span class="token punctuation">,</span> CHECK_EXPIRATION <span class="token operator">=</span> <span class="token keyword">OFF</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_5-end" tabindex="-1"><a class="header-anchor" href="#_5-end"><span>5.End</span></a></h3><p>Now, you can use <code>YourUser</code> to access the AG listener group.</p>`,13)])])}const p=s(t,[["render",i]]),d=JSON.parse('{"path":"/blogs/Skills/SQLServer/UserAndSession/CreateUserIntheAlwayson.html","title":"Create same user and password in the SQL server alwayson availability group(AG)","lang":"en-US","frontmatter":{"title":"Create same user and password in the SQL server alwayson availability group(AG)","date":"2025/11/27","tags":["SQLServer"],"categories":["Skills"]},"headers":[{"level":2,"title":"Create same user and password in the SQL server alwayson availability group(AG)","slug":"create-same-user-and-password-in-the-sql-server-alwayson-availability-group-ag","link":"#create-same-user-and-password-in-the-sql-server-alwayson-availability-group-ag","children":[{"level":3,"title":"5.End","slug":"_5-end","link":"#_5-end","children":[]}]}],"git":{"createdTime":1764230375000,"updatedTime":1764230375000,"contributors":[{"name":"jsonzhao","email":"json.zhao.cn@outlook.com","commits":1}]},"filePathRelative":"blogs/Skills/SQLServer/UserAndSession/CreateUserIntheAlwayson.md"}');export{p as comp,d as data};
